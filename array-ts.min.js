!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ArrayTs=r()}}(function(){var r=function(r){var e;return function(t){return e||r(e={exports:{},parent:t},e.exports),e.exports}},e=r(function(r,e){"use strict";!function(u){if("object"==typeof r&&"object"==typeof r.exports){var s=u(require,e);void 0!==s&&(r.exports=s)}else r.exports=u(require,e,i({}),o({}),n({}),t({}))}(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=r("../functions/GlobalComparison"),n=r("../functions/GlobalConversion"),i=r("../functions/GlobalDictionary"),o=r("../functions/GlobalExpression"),u=function(r){if($traceurRuntime.superConstructor(s).call(this),this.length>0&&this.splice(0,this.length),!t.IsNull(r))if(Number.isInteger(r)){var e=r;if(e<=0)return;for(var i=0;i<e;i++)this.push()}else if(t.IsIArray(r)||t.IsArray(r)||t.IsArrayLike(r)||t.IsIterable(r)){var o=n.Convert(r).Cast();for(i=0;i<o.length;i++)this.push(o[i])}else{var u=n.Convert(r).Cast();for(i=0;i<u.length;i++)this.push(u[i])}},s=u;$traceurRuntime.createClass(u,{new:function(r){var e=Object.create(s.prototype);return e.Set(r),e},isArray:function(r){return r.IsArray()},from:function(r,e,t){return new s(r).Cast().ToArray()},of:function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return new s(r).ToArray()},IsArrayInstance:function(){return t.IsArray(this)&&this instanceof Array},IsIArrayInstance:function(){return t.IsIArray(this)&&this instanceof s},Aggregate:function(r,e){if(t.IsNull(r))throw new Error("ArgumentNullException: predicate is null.");var n;if(t.IsNull(e)){if(this.Any())throw Error("InvalidOperationException: source contains no elements.");n=this[0]}else{if(this.Any())return e;n=e}for(var i=o.CompileExpression(r),u=1;u<this.length;u++)n=i(n,this[u]);return n},All:function(r){return(t.IsNull(r)?this:this.Where(r)).length===this.length},Any:function(r){return(t.IsNull(r)?this:this.Where(r)).length>0},Average:function(){return this.length<1?0:this.Sum()/this.length},Cast:function(){return this.Select(function(r){return r})},Clear:function(){0!==this.length&&this.splice(0,this.length)},Clone:function(){return n.DeepClone(this)},Concat:function(r){var e=this.Cast();if(t.IsNull(r))return e.Cast();var i=n.Convert(r);return n.Convert(e.concat(i)).Cast()},Contains:function(r){return t.Contains(this,r)},Count:function(r){return(t.IsNull(r)?this:this.Where(r)).length},Distinct:function(){if(this.length<1)return this;var r=this.Sort(t.Compare),e=new s;e.push(r[0]);for(var n=0,i=1;i<r.length;n++,i++){var o=r[n],u=r[i];0!==t.Compare(u,o)&&e.push(u)}return e},ElementAt:function(r){var e=this.ElementAtOrDefault(r);if(t.IsNull(e))throw new Error("No Results Found");return e},ElementAtOrDefault:function(r){if(!(0===this.length||r<0||r-1>this.length))return this[r]},Except:function(r){var e=n.Convert(r);if(this.Any()||e.Any())return this;for(var t=this.length,i=new s,o=0;o<t;o++)e.Contains(this[o])||i.push(this[o]);return i},First:function(r){var e=this.FirstOrDefault(r);if(t.IsNull(e))throw new Error("No Results Found");return e},FirstOrDefault:function(r){var e=t.IsNull(r)?this:this.Where(r);return e.length>0?e[0]:void 0},Get:function(){return this},GetGenericType:function(){return n.GetGenericType()},GroupBy:function(r,e,n){var u=new s;if(t.IsNull(r)){var a={};e=e||"key",i.SetProperty(a,e,0),n=n||"value";var l=this.Clone();return i.SetProperty(a,n,l),u.Push(a),u}for(var f=o.CompileExpression(r),c=this.Select(f).Distinct(),h=c.length,p=0;p<h;p++){var v={};e=e||"key",i.SetProperty(v,e,0),n=n||"value";var y=this.Where(function(r){return f(r)===c[p]});i.SetProperty(v,n,y),u.Push(v)}return u},GroupJoin:function(r,e,i,u){for(var a=this.length,l=o.CompileExpression(e),f=o.CompileExpression(i),c=new s,h=0;h<a;h++){var p=this[h],v=n.Convert(r).Where(function(r){return 0===t.Compare(l(p,r),f(r,p))});c.Push(v)}return this.Zip(c,u)},InnerJoin:function(r,e,i,u){for(var a=this.length,l=o.CompileExpression(e),f=o.CompileExpression(i),c=new s,h=0;h<a;h++){var p=this[h],v=n.Convert(r).Where(function(r){return 0===t.Compare(l(p),f(r))}),y=c.length,I=n.Convert([y,0]).Concat(v).Cast();c=c.Splice(I.length,y)}return this.Zip(c,u)},Intersect:function(r){var e=new s;if(t.IsNull(r))return e;var i=this.Cast(),o=n.Convert(r);if(0===i.length||0===o.length)return e;for(var u=0;u<o.length;u++)for(var a=0;a<i.length;a++)0===t.Compare(i[a],o[u])&&e.Push(i[a]);return e},Last:function(r){var e=this.LastOrDefault(r);if(t.IsNull(e))throw new Error("No Results Found");return e},LastOrDefault:function(r){var e;return null!==(e=(t.IsNull(r)?this:this.Where(r)).pop())&&void 0!==e?e:void 0},Max:function(r){var e=this.Select(r);return Math.max.apply(void 0,e)},Min:function(r){var e=this.Select(r);return Math.min.apply(void 0,e)},OrderBy:function(r){if(t.IsNull(r))return n.Convert(this.Sort(t.Compare).ToArray());var e=o.CompileExpression(r);return n.Convert(this.sort(function(r,n){return t.Compare(e(r),e(n))}))},OrderByDescending:function(r){return this.OrderBy(r).Reverse()},Push:function(r){var e=r;return this.push(e),this.length},Reverse:function(){return n.Convert(this.ToArray().reverse())},Select:function(r){if(t.IsNull(r))return this.Cast();for(var e=this.length,n=new s,i=o.CompileExpression(r),u=0;u<e;u++)n.Push(i(this[u]));return n},SelectMany:function(r){if(t.IsNull(r))return this.Cast();for(var e=this.Select(r),n=new s,i=0;i<e.length;i++)n.Splice(0,0,e[i]);return n},SequenceEqual:function(r){if(t.IsNull(r))return!1;if(this.length!==r.length)return!1;for(var e=this.length,n=0;n<e;n++)if(0!==t.Compare(this[n],r[n]))return!1;return!0},Set:function(r){var e=this;if(this.length>0&&this.splice(0,this.length),t.IsNull(r))return this.length;var i=n.Convert(r);return i.length>0&&i.forEach(function(r){e.push(r)}),this.length},Single:function(){if(1!==this.length)throw new Error("Sequence does not contain a single element.");return this[0]},SingleOrDefault:function(){if(this.length>1)throw new Error("Sequence does not contain a single element.");return 1===this.length?this[0]:void 0},Skip:function(r){return this.Slice(r,this.length)},SkipWhile:function(r){for(var e=o.CompileExpression(r),t=new s,n=this.length,i=0;i<n;i++)!0!==e(this[i])&&t.Push(this[i]);return t},Slice:function(r,e){return n.Convert(this.ToArray().slice(r,e))},Sort:function(r){return this.OrderBy(r)},Splice:function(r,e){for(var i,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];if(t.IsNull(o))return n.Convert(this.splice(r,e));var s=n.Convert(o).Cast().ToArray();return n.Convert((i=this).splice.apply(i,$traceurRuntime.spread([r,e],s)))},Sum:function(){var r=this.length;if(0===r)return 0;for(var e=function(r){return parseInt(r)===parseFloat(r)},t=0,n=0;n<r;n++){var i=this[n];isNaN(i)&&(i=0),t+=e(i)?parseInt(i):parseFloat(i)}return t},Take:function(r){return this.Slice(0,r)},TakeWhile:function(r){if(t.IsNull(r))return this;for(var e=o.CompileExpression(r),n=new s,i=this.length,u=0;u<i;u++){var a=this[u];if(!0!==e(a))return n;n.Push(a)}return n},ToArray:function(){return this},Union:function(r){return t.IsNull(r)?this.Cast():this.Cast().Concat(n.Convert(r)).Distinct().Cast()},Where:function(r){if(t.IsNull(r))throw new Error("ArgumentNullException: predicate is null.");for(var e=new s,n=o.CompileExpression(r),i=0;i<this.length;i++)!0===n(this[i])&&e.push(this[i]);return e},Zip:function(r,e){if(t.IsNull(r))throw new Error("ArgumentNullException: source is null.");var i=n.Convert(r);if(0===this.length||0===i.length)return new s;var u=new s;if(t.IsNull(e)){for(var a=0;a<this.length;a++){if(i.length<=a)return u;u.push(this[a])}return u}var l=o.CompileExpression(e);for(a=0;a<this.length;a++){if(i.length<=a)return u;var f=l(this[a],i[a]);u.push(f)}return u}},{Empty:function(){return new s}},Array),e.ArrayTs=u})}),t=r(function(r,e){"use strict";!function(t){if("object"==typeof r&&"object"==typeof r.exports){var n=t(require,e);void 0!==n&&(r.exports=n)}else r.exports=t(require,e,i({}))}(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=r("./GlobalComparison");e.CompileExpression=function(r){if(t.IsNull(r))throw new Error("ArgumentNullException: expression has no value.");if(t.IsFunction(r))return r;var e=typeof r;if(t.ContainsValue(["number","object"],e))throw new Error("ArgumentException: expression is of unexpected type.");var n=r.split("=>"),i=n.length>0?n.shift().trim().replace(/\(|\)/g,""):null,o=n.length>0?n.join("=>").trim():null;if(t.IsNull(i)||t.IsNull(o))throw new Error("ArgumentException: expression is invalid.");return new Function(i,"return ("+o+");")}})}),n=r(function(r,e){"use strict";!function(t){if("object"==typeof r&&"object"==typeof r.exports){var n=t(require,e);void 0!==n&&(r.exports=n)}else r.exports=t(require,e)}(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.GetProperty=function(r,e){return r[e]},e.SetProperty=function(r,e,t){r[e]=t}})}),i=r(function(r,t){"use strict";!function(n){if("object"==typeof r&&"object"==typeof r.exports){var i=n(require,t);void 0!==i&&(r.exports=i)}else r.exports=n(require,t,o({}),u({}),e({}))}(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=r("./GlobalConversion"),n=r("./GlobalEnumerator"),i=r("../classes/ArrayTs");function o(r){return null==r}function u(r){return!o(r)&&Array.isArray(r)&&t.GetGenericType()===t.ConvertArray(r).GetGenericType()}function s(r){return!o(r)&&r instanceof i.ArrayTs&&t.GetGenericType()===t.ConvertIArray(r).GetGenericType()}function a(r,e){var t=typeof r,i=typeof e;if("undefined"===t||"undefined"===i)return"undefined"===t?-1:"undefined"===i?1:0;if(t!==i)throw new Error("ArgumentException: both objects must be of the same type.");if(null===r||null===e)return r===e?0:null===r?1:-1;if(r.Compare)return r.Compare(e);if(r.compare)return r.compare(e);if("string"===t)return r>e?1:r<e?-1:0;if("number"===t)return r<e?-1:r>e?1:0;if("boolean"===t)return r===e?0:r?1:-1;if("function"===t)return a(r(),e());if(r instanceof Date)return r>e?1:r<e?-1:0;if("object"===t){var o=new Array;return n.Enumerator(r,function(r,t){var n=a(r,e[t]);if(o.push(n),-1===n)return!1}),o.length>0?o.reduce(function(r,e){if(r===e)return r;var t=r+e;return 0===t?-1:t}):0}throw new Error("ArgumentException: Unable to compare objects.")}e.IsNull=o,e.IsNullOrEmpty=function(r){return null==r||r.length<=0},e.IsArray=u,e.IsArrayLike=function(r){return!o(r)&&t.GetGenericType()===t.ConvertArrayLike(r).GetGenericType()},e.IsIArray=s,e.IsIterable=function(r){return!o(r)&&t.GetGenericType()===t.ConvertIterable(r).GetGenericType()},e.IsFunction=function(r){return!o(r)&&"function"==typeof r},e.Contains=function(r,e){if(o(r))return!1;if(s(r))for(var t,i=r[$traceurRuntime.toProperty(Symbol.iterator)]();!(t=i.next()).done;)if(0===a(t.value,e))return!0;if(u(r))for(var l,f=r[$traceurRuntime.toProperty(Symbol.iterator)]();!(l=f.next()).done;)if(0===a(l.value,e))return!0;if("object"==typeof r){var c=new Array;return n.Enumerator(r,function(r,t){var n=a(r,e);if(c.push(n),-1===n)return!1}),c.reduce(function(r,e){if(r===e)return r;var t=r+e;return 0===t?-1:t})}return 0===a(r,e)},e.ContainsValue=function(r,e){if(o(r))return!1;for(var t,n=r[$traceurRuntime.toProperty(Symbol.iterator)]();!(t=n.next()).done;)if(0===a(t.value,e))return!0;return!1},e.Compare=a})}),o=r(function(r,t){"use strict";!function(n){if("object"==typeof r&&"object"==typeof r.exports){var o=n(require,t);void 0!==o&&(r.exports=o)}else r.exports=n(require,t,i({}),u({}),e({}))}(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=r("./GlobalComparison"),n=r("./GlobalEnumerator"),i=r("../classes/ArrayTs");function o(r){return t.IsNull(r)?new i.ArrayTs:r}function u(r){if(t.IsNull(r))return new i.ArrayTs;for(var e=r,n=new i.ArrayTs,o=0;o<e.length;o++){var u=e[o];n.push(u)}return n}function s(r){if(t.IsNull(r))return new i.ArrayTs;for(var e=r,n=new i.ArrayTs,o=0;o<e.length;o++){var u=e[o];n.push(u)}return n}function a(r){if(t.IsNull(r))return new i.ArrayTs;for(var e,n=r,o=new i.ArrayTs,u=n[$traceurRuntime.toProperty(Symbol.iterator)]();!(e=u.next()).done;){var s=e.value;o.push(s)}return o}function l(r){if(t.IsNull(r))return new i.ArrayTs;var e=new i.ArrayTs;return n.Enumerator(r,function(r,t){e[t]=r}),e}e.Convert=function(r){if(t.IsNull(r))return new i.ArrayTs;if(t.IsIArray(r)){var e=r;if(e.IsIArrayInstance()){var n=o(e).Cast();if(n.IsIArrayInstance()&&n.IsArrayInstance())return n;throw new Error("InvalidArgument: source has an unexpected value.")}return r}if(t.IsArray(r)){var f=r;if(t.IsArray(f)){var c=u(f).Cast();if(c.IsIArray()&&c.IsArrayInstance())return c;throw new Error("InvalidArgument: source has an unexpected value.")}return r}if(t.IsArrayLike(r)){var h=r;if(t.IsArrayLike(h)){var p=s(h).Cast();if(p.IsIArray()&&p.IsArrayInstance())return p;throw new Error("InvalidArgument: source has an unexpected value.")}return r}if(t.IsIterable(r)){var v=r;if(t.IsIterable(v)){var y=a(v).Cast();if(y.IsIArray()&&y.IsArrayInstance())return y;throw new Error("InvalidArgument: source has an unexpected value.")}return r}if("object"==typeof r){var I=l(r).Cast();if(I.IsIArray()&&I.IsArrayInstance())return I;throw new Error("InvalidArgument: source has an unexpected value.")}throw new Error("InvalidArgument: source has an unexpected value.")},e.ConvertIArray=o,e.ConvertArray=u,e.ConvertArrayLike=s,e.ConvertIterable=a,e.ConvertObject=l,e.DeepClone=function r(e){if(t.IsNull(e))return e;var i=typeof e;if(t.IsNull(i)||t.IsFunction(e)||e instanceof Date||t.ContainsValue(["string","number","boolean"],i))return e;if("object"===i){var o=new Array;return n.Enumerator(e,function(e){var t=r(e);return o.push(t),!0}),o}return e},e.GetGenericType=function(){return typeof{}}})}),u=r(function(r,e){"use strict";!function(t){if("object"==typeof r&&"object"==typeof r.exports){var n=t(require,e);void 0!==n&&(r.exports=n)}else r.exports=t(require,e,i({}))}(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=r("./GlobalComparison");e.Enumerator=function(r,e){if(!t.IsNull(r)&&!t.IsNull(e)){var n=r.length;if(t.IsIArray(r)||t.IsArray(r)||t.IsArrayLike(r)||t.IsIterable(r)){for(var i=0;i<n;i++)if(!1===e(r[i],i))return}else for(var o in r)if(!1===e(r[o],o))return}}})});return e(),e});